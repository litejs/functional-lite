/*
    MIT License
*/
!function(r){function n(a,b){for(var c="_",d=a,e=a.split("->");1<e.length;)d=e.pop(),c=e.pop().match(/\w+/g)||"",e.length&&e.push("(function("+c+"){return("+d+")})");return new Function(c,(b&&(a=a.replace(s,"").match(/\b[a-z]\w*|\b_\w+/g))?"var "+a.uniq().join("='',")+"='';with("+b+"||{})":"")+"return("+d+")")}var f=Array.prototype,k=Function.prototype,p=String.prototype,g=Object,m=g.prototype.hasOwnProperty,l=k.call.bind(f.slice),q=[],s=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|this|arguments|\.\w+|\w+:/g;
k.construct=function(a){var b=a.length;return b?(q[b]||(q[b]=n("t a->new t(a["+g.keys(l(a)).join("],a[")+"])")))(this,a):new this};k.partial=function(){var a=this,b=l(arguments);return function(){return a.apply(this,b.concat.apply(b,arguments))}};k.byWords=function(a,b){var c=this;return function(){var d=this,e=d,h=arguments;(h[a|=0]||"").replace(b||/\S+/g,function(b){h[a]=b;e=c.apply(d,h)});return e}};k.byKeyVal=function(){var a=this;return function(b){var c,d=l(arguments);if("object"==typeof b)for(c in b)d[0]=
c,d[1]=b[c],c=a.apply(this,d);else c=a.apply(this,d);return c}};k.cache=function(a,b,c){var d=this,e=c||{},h=function(){var c=arguments,g=!!a||this instanceof h,f=b?b.apply(d,c):g+":"+c.length+":"+l(c);return f in e?e[f]:e[f]=g?d.construct(c):d.apply(this,c)};h.origin=d;h.cached=e;h.extend=function(){return d.extend.apply(d,arguments).cache(a,b,c)};h.prototype=d.prototype;return h};k.extend=function(){function a(){return c.apply(this,arguments)}var b,c=this,d=0;for(a.prototype=g.create(c.prototype);b=
arguments[d++];)g.merge(a.prototype,b);return a.prototype.constructor=a};g.each=function(a,b,c,d){if(a)for(d in a)m.call(a,d)&&b.call(c,a[d],d,a)};g.merge=function(a,b){for(var c,d=1;b=arguments[d++];)for(c in b)m.call(b,c)&&(a[c]=b[c]);return a};g.clone=function(a,b,c){if(a&&a.constructor===g){b={};for(c in a)m.call(a,c)&&(b[c]=g.clone(a[c]));a=b}return a};g.deepMerge=g.deepCopy=function(a,b,c,d,e,h){c=c||"";d=d||[];for(e in b)if(m.call(b,e)&&a[e]!==b[e])if(h=b[e],d.push(c+e),null===h)delete a[e];
else if(h&&h.constructor===g){var f=a[e];f&&f.constructor===g||(a[e]={});g.deepMerge(a[e],h,c+e+".",d)}else a[e]=h;return d};g.zip=function(a,b){return a.fold(function(a,d,e){a[d]=b[e];return a},{})};f.remove=function(){for(var a=this.length,b=l(arguments),c=-1;a--;)~b.indexOf(this[a])&&this.splice(c=a,1);return c};f.each=f.forEach;f.fold=f.reduce;f.foldr=f.reduceRight;f.uniq=f.filter.partial(function(a,b,c){return b==c.indexOf(a)});f.pushUniq=function(a){return-1==this.indexOf(a)?this.push(a):!1};
!function(a){k[a]=p[a]=function(){var b=arguments,c=b[0];b[0]=this.fn();return f[a].apply(c,b)}}.byWords()("every filter each map fold foldr some");k.fn=function(){return this};p.fn=function(a){return n(this,a)};r.Fn=n.cache()}(this);